<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>OC-Movies Layout</title>
        <meta charset="UTF-8"> 
        <meta name="viewport" 
              content="width=device-width,initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
        <link href="../css/ocmovies.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div id="ui">
            <header>
                <h1>Vidéos à la demande</h1>
            </header>
            <section id="topfilm">
                <h2>Meilleur film</h2>
                <div class="overview">
                    <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie title">
                    <h2>The Big Lebowski</h2>
                    <p>Jeff "The Dude" Lebowski, mistaken for a millionaire of the same name, seeks restitution for his ruined rug and enlists his bowling buddies to help get it.</p>
                    <div class="actions">
                        <span data-movie-id="42" class="btn red">Détails</span>
                    </div>
                </div>
            </section>
            <section class="movie-list" id="top-movies">
                <h2>Films les mieux notés</h2>
                <div class="thumbnails-list">
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span data-movie-id="42" class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span data-movie-id="42" class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span data-movie-id="42" class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span data-movie-id="42" class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span data-movie-id="42" class="btn">Détails</span>
                        </div>
                    </div>
                </div>
                <div class="actions see-more">
                    <span class="btn red">Voir plus</span>
                </div>
            </section>
            <section class="movie-list" id="category-1">
                <h2>Catégorie 1</h2>
                <div class="thumbnails-list">
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                </div>
            </section>
            <section class="movie-list" id="category-2">
                <h2>Catégorie 2</h2>
                <div class="thumbnails-list">
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                </div>
            </section>
            <section class="movie-list" id="custom-category">
                <div class="category-selector">
                    <h2>Autres: </h2>
                    <ul class="dropdown">
                        <li class="dropdown-item" data-selected="0">Films d'action</li>
                        <li class="dropdown-item" data-selected="0">Comédies</li>
                        <li class="dropdown-item" data-selected="1">Famille</li>
                        <li class="dropdown-item" data-selected="0">Films de fantasy</li>
                        <li class="dropdown-item" data-selected="0">Films d'horreur</li>
                        <li class="dropdown-item" data-selected="0">Science-fiction</li>
                        <li class="dropdown-item" data-selected="0">Westerns</li>
                    </ul>
                </div>
                <div class="thumbnails-list">
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                    <div class="movie-gallery-thumbnail">
                        <img src="../img/movie_cover.png" class="movie-cover-thumbnail" alt="Movie Title"/>
                        <div>
                            <h3>Titanic</h3>
                            <span class="btn">Détails</span>
                        </div>
                    </div>
                </div>
            </section>
            <div class="modal-window" id="movie-details-window">
                <div class="movie-details modal-window-content">
                    <span class="close handheld">❌</span>
                    <div class="movie-header">
                        <h2><slot name="original_title">The Big Lebowski</slot></h2>
                        <p class="movie-meta-info">
                            <span><slot name="year">1998</slot></span> - <span><slot name="movie-genre-list">Comedy, Crime, Sport</slot></span><br>
                            <span>PG-<slot name="rated">13</slot></span> - <span><slot name="duration"></slot> minutes</span> <span>(<slot name="countries">USA / UK</slot>)</span><br>
                            <span>IMDB score : <slot name="imdb_score"></slot>/10</span>
                        </p>
                        <p>
                            <strong>Réalisé par:</strong><br>
                            <slot name="directors">Joel Cohen, Ethan Cohen</slot>
                        </p>
                    </div>
                    <img src="../img/movie_cover.png" class="movie-cover" alt="MOVIE TITLE">
                    <div class="movie-long-description">
                        <slot name="long_description">
                            <p>When "the dude" Lebowski is mistaken for a millionaire Lebowski, two thugs urinate on his rug to coerce him into paying a debt he knows nothing about. While attempting to gain recompense for the ruined rug from his wealthy counterpart, he accepts a one-time job with high pay-off. He enlists the help of his bowling buddy, Walter, a gun-toting Jewish-convert with anger issues. Deception leads to more trouble, and it soon seems that everyone from porn empire tycoons to nihilists want something from The Dude.</p>
                        </slot>
                    </div>
                    <div class="movie-actors-list">
                        <p><strong>Avec :</strong><br>
                        <slot name="acotrs">David Huddleston, Flea, Jack Kehler, Jeff Bridges, Jimmie Dale Gilmore, John Goodman, John Turturro, Julianne Moore, Mark Pellegrino, Peter Stormare, Philip Moon, Philip Seymour Hoffman, Steve Buscemi, Tara Reid, Torsten Voges</slot>
                    </div>
                    <div class="actions">
                        <span class="btn red desktop close">Fermer</span>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            function show_modal() {
                let modal = document.getElementById('movie-details-window')
                if (! modal.classList.contains("displayed")) {
                    modal.classList.add("displayed")
                }
            }

            function hide_modal() {
                let modal = document.getElementById('movie-details-window')
                if (modal.classList.contains("displayed")) {
                    modal.classList.remove("displayed")
                }
            }

            document.addEventListener('click', (evt) => {
                const tgt = evt.target
                console.log("clicked", tgt)
                // view details modal window controls
                if (tgt.classList && tgt.classList.contains('btn') && tgt.dataset && tgt.dataset.movieId) {
                    show_modal();
                    evt.stopPropagation();
                }
                if (tgt.classList && tgt.classList.contains('close')) {
                    hide_modal();
                    evt.stopPropagation();
                }
                // dropdown list controls
                if (tgt.classList && tgt.classList.contains('dropdown-item')) {
                    const dropdown = tgt.parentElement
                    selected = dropdown.querySelector('.dropdown-item[data-selected="1"]')
                    if (selected) {
                        selected.dataset.selected = "0"
                    }
                    tgt.dataset.selected = "1"
                }
            })
        </script>
    </body>
</html>
